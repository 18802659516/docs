<link rel="import" href="../../components/polymer/polymer.html">
<link rel="import" href="../../components/iron-page-url/iron-page-url.html">

<dom-module id='url-bar'>
  <template>
    <style>
      :host {
        display: block;
        margin: 0px;
        padding: 15px 35px;
        border-bottom: 2px solid gray;
        height: 1em;
        overflow-x: hidden;
        overflow-y: hidden;
        min-width: 600px;
        display: none;
      }
      :host[in-iframe] {
        /* This element only wants to be displayed if it's in an iframe. */
        display: block;
      }
      label {
        display: inline-block;
        padding-right: 25px;
      }
      span {
        font-family: monospace;
        white-space: pre;
      }
    </style>
    <iron-page-url path="{{path}}" query="{{query}}" hash="{{hash}}">
    </iron-page-url>
    <label>URL</label><span>{{url}}</span>
  </template>
  <script>
    Polymer({
      is: 'url-bar',
      properties: {
        url: {
          computed: '__computeUrl(path, query, hash)'
        },
        inIframe: {
          value: function() {
            return window.top !== window;
          },
          reflectToAttribute: true
        }
      },
      __computeUrl: function(path, query, hash) {
        var url = path;
        if (query) {
          url += '?' + query;
        }
        if (hash) {
          url += '#' + hash;
        }
        return url;
      }
    })
  </script>
</dom-module>
